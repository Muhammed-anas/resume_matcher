{% load crispy_forms_tags %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Resume Matcher</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>

<body>

<div class="container my-5">

    <h3 class="text-center mb-4">AI Resume vs Job Description (Ollama)</h3>

    <div class="card p-4 shadow-sm">
        <form method="POST">
            {% csrf_token %}
            {{ form|crispy }}

            <button type="submit" class="btn btn-primary w-100 mt-3">Match Now</button>
        </form>
    </div>

    {% if result %}
    <div class="card p-4 shadow-sm mt-4">
        <h4>Result</h4>

        <p><strong>Match Score:</strong> {{ result.match_score }}%</p>

        <p><strong>Missing Skills:</strong>
            {% if result.missing_skills %}
                {{ result.missing_skills|join:", " }}
            {% else %}
                None 
            {% endif %}
        </p>

        <p><strong>Summary:</strong> {{ result.summary }}</p>
    </div>
    {% endif %}

</div>

</body>
</html>
